<nav role="main" id="styleguideSections" class="styleguide__nav" >

    <span class="styleguide__nav__brand">Styleguide <em>Viewer 2</em></span>

    <ul>
    <li><a href="index.php">Home </a></li>
    <?php
        foreach ($Styleguide->getSources() as $source) {
            echo '<li><span>'. $source->getName() .'</span><ul>';
            foreach ($source->getParser()->getTopLevelSections() as $topLevelSection) {
                echo '<li>
                    <a href="index.php?ref='.$topLevelSection->getReference().'&src='.$source->getKey().'" title="'.$topLevelSection->getTitle().'">' .
                        $topLevelSection->getDescriptionTitle() .
                    '</a>' ;
                    /* 
                        <nav id="sections">
                        <ul class="nav">

                            <?php
                            foreach ($Styleguide->getSource()->getParser()->getSectionChildren($Styleguide->getRef(), 1) as $navSection) {
                                echo '<li><a href="#r' . $navSection->getReference() . '">' . $navSection->getDescriptionTitle() .'</a>';
                                $subSections = $Styleguide->getSource()->getParser()->getSectionChildren($navSection->getReference());
                                if ($subSections) {
                                    echo '<ul>';
                                    foreach ($subSections as $subSection) {
                                        echo '<li><a href="#r' . $subSection->getReference() . '">' . $subSection->getDescriptionTitle() .'</a>';
                                    }
                                    echo '</ul>';
                                }
                                echo '</li>';
                            }
                            ?>

                        </ul>
                        </nav> */

                echo '</li>';
            }
            echo '</ul></li>';
        }
    ?>
    </ul>
</nav>
